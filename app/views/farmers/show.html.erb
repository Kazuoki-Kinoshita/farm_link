<h1>プロフィール</h1>
  <p>農家名:<%= @farmer.name %></p>
  <p>都道府県: <%= @farmer.prefecture.name %></p>
  <p>住所：<%= @farmer.address %></p>
  <p>最寄り駅：<%= @farmer.station %></p>

  <style>
  #map{
    height: 300px;
    width:600px;
  }
  </style>
  <div id="map"></div>(地図を表示)
  <script type="text/javascript">
    function initMap() {
      var test ={lat: <%= @farmer.latitude %>, lng: <%= @farmer.longitude %>};
      var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: test
      });
      var transitLayer = new google.maps.TransitLayer();
      transitLayer.setMap(map);

      var contentString = '<a href="<%= overview_farmer_path(@farmer) %>"><%= @farmer.name %></a><br>住所：<%= @farmer.address %>';

      var contentString = '<%= @farmer.name %></a><br>住所：<%= @farmer.address %>';
      var infowindow = new google.maps.InfoWindow({
          content: contentString
      });

      var marker = new google.maps.Marker({
          position:test,
          map: map,
          title: contentString
      });

      marker.addListener('click', function() {
          infowindow.open(map, marker);
      });
    }
  </script>

  <script async defer
          src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap">
  </script>

  <p>最寄り駅: <%= @farmer.station %></p>
  <% @farmer.plots.each do |plot| %>
    <p>区画名:<%= plot.name %></p>
  <% end %>
  <p>農産物: <%= @farmer.product %></p>
  <p>Webサイト: <%= @farmer.website %></p>
  
  <% if @farmer.image.attached? %>
    <%= image_tag @farmer.image, alt: "Farmer Image" %>
  <% else %>
    <p>No image uploaded.</p>
  <% end %>

  <p>農家詳細: <%= @farmer.profile %></p>
  <%= link_to '編集', edit_farmer_path(@farmer) %>
  <%= link_to '戻る', farmers_path %>